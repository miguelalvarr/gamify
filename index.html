<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/src/assets/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gamify - Música de Videojuegos</title>
    <meta name="description" content="Plataforma de streaming de música de videojuegos" />
    <!-- Script de recuperación para prevenir pantalla blanca -->
    <script src="/auth-recovery.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
  <script>
    // Detectar pantalla blanca y recuperarse automáticamente
    window.addEventListener('load', function() {
      setTimeout(function() {
        if (document.getElementById('root').children.length === 0) {
          // Pantalla en blanco detectada
          Object.keys(localStorage).forEach(key => {
            if (key.includes('supabase') || key.includes('sb-')) {
              localStorage.removeItem(key);
            }
          });
          window.location.href = '/#/login';
        }
      }, 3000);
    });
  </script>
</html>